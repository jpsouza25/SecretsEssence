<nav class="navbar fixed-top navbar-expand-lg navbar-glass" style="height: 70px;"> 
  <div class="container-fluid h-100">

    <div class="navbar-brand-container h-100 d-flex align-items-center" style="flex: 0 0 auto;">
      <a class="navbar-brand p-0" href="home">
        <span class="brand-name">BookStore</span>
      </a>
    </div>

     <div class="action-btn mx-2 position-relative d-flex align-items-center justify-content-center">
      <a class="nav-link" (click)="listagem()">
       <i class="bi bi-card-list"></i> Listagem
      </a>
    </div>

  <div class="navbar-search flex-grow-1 d-flex justify-content-center position-relative">
  <div class="search-container" style="width: 100%; max-width: 600px;">
    <div class="position-relative w-100">
      <i class="bi bi-search search-icon"></i>
      <input
        class="search-input"
        type="search"
        placeholder="Pesquisar..."
        aria-label="Search"
        style="width: 100%; height: 42px; padding-left: 45px;"
        [(ngModel)]="searchQuery"
        (input)="searchBooks()"
      />
      <button
        class="btn-search"
        style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); background: transparent; border: none; color: #888;"
        (click)="searchBooks()"
        type="button"
      >
        <i class="bi bi-arrow-right"></i>
      </button>

      <ul
        *ngIf="searchResults.length > 0"
        class="list-group position-absolute w-100"
        style="z-index: 1000; max-height: 300px; overflow-y: auto; top: 45px; left: 0;"
      >
        <li
          *ngFor="let book of searchResults"
          class="list-group-item list-group-item-action"
          (click)="selectBook(book)"
          style="cursor: pointer;"
        >
          <strong>{{ book.volumeInfo.title }}</strong><br />
          <small>{{ book.volumeInfo.authors?.join(', ') }}</small>
        </li>
      </ul>
    </div>
  </div>
</div>


    <div class="navbar-actions d-flex align-items-center" style="flex: 0 0 auto;">
      <div class="d-flex align-items-center">
        <button class="action-btn mx-2 position-relative d-flex align-items-center justify-content-center" (click)="favoritos()" style="width: 40px; height: 40px;">
          <i class="bi bi-heart fs-5"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem;">
            3
          </span>
        </button>
        
        <button class="action-btn mx-2 position-relative d-flex align-items-center justify-content-center" (click)="carrinho()" style="width: 40px; height: 40px;">
          <i class="bi bi-cart fs-5"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem;">
            5
          </span>
        </button>
        
        <div class="dropdown-container ms-2">
          <button class="action-btn d-flex align-items-center justify-content-center" (click)="Dropdown()" style="width: 40px; height: 40px;">
            <i class="bi bi-person-circle fs-5" [class.active]="isDropdownOpen"></i>
          </button>

          <div class="dropdown-menu" [class.show]="isDropdownOpen">
            <div class="dropdown-item" (click)="usuario()">
              <i class="bi bi-person-circle me-2"></i>
              <span>Meu Perfil</span>
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-item" (click)="sair()">
              <i class="bi bi-box-arrow-right me-2"></i>
              <span>Sair</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</nav>